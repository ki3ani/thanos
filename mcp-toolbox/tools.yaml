sources:
  boutique-db:
    kind: cloud-sql-postgres
    project: kims-boutique-472014 # Your Project ID
    region: us-central1
    instance: boutique-db-instance
    database: postgres
    user: postgres
    password: "supersecretpassword"

tools:
  search_products_by_name:
    kind: postgres-sql
    source: boutique-db
    description: "Searches for products in the Online Boutique catalog by the product's name."
    parameters:
      - name: product_name
        type: string
        description: "The name of the product to search for (e.g., 'Mug', 'Watch')."
    statement: "SELECT id, name, description, picture, price_usd_units, price_usd_nanos FROM products WHERE name ILIKE '%' || $1 || '%';"

  search_products_by_description:
    kind: postgres-sql
    source: boutique-db
    description: "Searches for products in the Online Boutique catalog by keywords in the product's description."
    parameters:
      - name: search_query
        type: string
        description: "Keywords to search for in the product description (e.g., 'kitchen', 'outfits')."
    statement: "SELECT id, name, description, picture, price_usd_units, price_usd_nanos FROM products WHERE description ILIKE '%' || $1 || '%';"

toolsets:
  product_tools:
    - search_products_by_name
    - search_products_by_description
